<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <!--=====================================
                    META TAG PART START
        =======================================-->
        <!-- REQUIRE META -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- AUTHOR META -->
        <meta name="author" content="mironcoder">
        <meta name="email" content="mironcoder@gmail.com">
        <meta name="profile" content="https://themeforest.net/user/mironcoder">

        <!-- TEMPLATE META -->
        <meta name="name" content="Greeny">
        <meta name="title" content="Greeny - eCommerce HTML Template">
        <meta name="keywords" content="organic, food, shop, ecommerce, store, html, bootstrap, template, agriculture, vegetables, webshop, farm, grocery, natural, online store">
        <!--=====================================
                    META-TAG PART END
        =======================================-->

        <!-- WEBPAGE TITLE -->
        <title>Product Tab - Greeny</title>

        <!--=====================================
                    CSS LINK PART START
        =======================================-->
         <!-- FAVICON -->
        <link rel="icon" href="{{url_for('static', filename='images/favicon.png')}}">

        <!-- FONTS -->
         <link rel="stylesheet" href="{{url_for('static', filename='fonts/flaticon/flaticon.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='fonts/icofont/icofont.min.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='fonts/fontawesome/fontawesome.min.css')}}">

        <!-- VENDOR -->
        <link rel="stylesheet" href="{{url_for('static', filename='vendor/venobox/venobox.min.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='vendor/slickslider/slick.min.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='vendor/niceselect/nice-select.min.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='vendor/bootstrap/bootstrap.min.css')}}">

        <!-- CUSTOM -->
        <link rel="stylesheet" href="{{url_for('static', filename='css/main.css')}}">
         <link rel="stylesheet" href="{{url_for('static', filename='css/product-details.css')}}">


        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
        <!--=====================================
                    CSS LINK PART END
        =======================================-->
        <style>
            input {
                border: 1px solid #000;
            }

        </style>

    </head>
    <body>
        <div class="backdrop"></div>
        <a class="backtop fas fa-arrow-up" href="#"></a>


         <!--=====================================
                    HEADER PART START
        =======================================-->

        <header class="header-part">
            <div class="container">
                <div class="header-content">
                    <div class="header-media-group">
                        <button class="header-user"><img src="static/images/user.png" alt="user"></button>
                        <a href="index.html"><img src="/static/images/brand/logo_morro_pr.png" alt="logo"></a>
                        <button class="header-src"><i class="fas fa-search"></i></button>
                    </div>

                    <a href="index.html" class="header-logo">
                        <img src="/static/images/brand/logo_morro_pr.png" alt="logo">
                    </a>
<!--                    <a href="{{url_for('profile')}}" class="header-widget" title="My Account">-->
<!--                        <img src="static/images/user.png" alt="user">-->
<!--                        <span>My Account</span>-->
<!--                    </a>-->
                    <ul class="dropdown">
                    <a class="navbar-link dropdown-arrow" href="#">My Account</a>
                                    <ul class="dropdown-position-list">
                                        <li><a href="{{url_for('profile')}}">Account Info</a></li>
                                        <li><a href="{{url_for('clear')}}">Logout</a></li>
                                    </ul>
                    </ul>

                    <form class="header-form">
                        <input type="text" placeholder="Search anything...">
                        <button><i class="fas fa-search"></i></button>
                    </form>

                    <div class="header-widget-group">


                    </div>
                </div>
            </div>
        </header>
        <!--=====================================
                    HEADER PART END
        =======================================-->

        <!--=====================================
                    NAVBAR PART START
        =======================================-->
        <nav class="navbar-part">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="navbar-content">
                            <ul class="navbar-list">
                               <li class="navbar-item dropdown">
                                    <a class="navbar-link" href="{{url_for('products')}}">Stickers</a>
                                </li>

                                <li class="navbar-item dropdown">
                                    <a class="navbar-link active" href="{{url_for('orders')}}">Orders</a>
                                </li>

                                <li class="navbar-item dropdown">
                                    <a class="navbar-link active" href="{{url_for('reports')}}">Reports</a>
                                </li>

                                <li class="navbar-item dropdown">
                                    <a class="navbar-link" href="{{url_for('accounts')}}">Accounts</a>
                                </li>
                            </ul>

                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <!--=====================================
                    NAVBAR PART END
        =======================================-->




        <!--=====================================
                PRODUCT DETAILS PART START
        =======================================-->
        <section class="inner-section">
            <div class="container">

                <div style='text-align: center'>

                        <br><br>
                        <h2>Edit Account</h2>
                        <br>
                {% if message == 'added' %}
                    <h3 style="text-align:center; color:green">Account updated!!</h3>
                 {% endif %}
                    </div>

                <div style='display:flex; justify-content:center' class="row">
                    <div class="col-lg-6">
                        <div class="details-content">
                            <div style="width:100%">
                                <form action="{{url_for('updateaccount')}}", method="post">
                                 <div style="width:100%" class="modal-form">
                                    <div class="form-title">
                                        <h3>general info</h3>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">First Name</label>
                                        <input type="text" name="fname" class="form-control" value="{{acc[0]['name']}}" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Last Name</label>
                                        <input type="text" name="lname" class="form-control" value="{{acc[0]['last_name']}}" required>
                                    </div>
                                    {% if userType == 'customer' %}
                                    <div class="form-group">
                                        <label class="form-label">Phone Number</label>
                                        <input type="tel" name="pnumber" class="form-control" value="{{acc[0]['phonenum']}}" required oninvalid="this.setCustomValidity('Please enter a Phone number.')" oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                                    {% endif %}
                                    <div class="form-group">
                                        <label class="form-label">email</label>
                                        <input type="text" name="email" class="form-control" value="{{acc[0]['email']}}" disabled>
                                    </div>
                                     {% if acc[0]['status'] == 'active' %}
                                         <div class="form-group">
                                            <label class="form-label">status</label><br>
                                             <label for="active">Active</label>
                                            <input type="radio" id='active' value="active" name="status" checked><br>
                                             <label for="inactive">Inactive</label>
                                            <input type="radio" id='inactive' value="inactive" name="status">
                                        </div>
                                     {% else %}
                                        <div class="form-group">
                                            <label class="form-label">status</label><br>
                                             <label for="active1">Active</label>
                                            <input type="radio" id='active1' value="active" name="status"><br>
                                             <label for="inactive1">Inactive</label>
                                            <input type="radio" id='inactive1' value="inactive" name="status" checked>
                                        </div>
                                     {% endif %}
                                </div>
                                {% if userType == 'admin' %}
                                <div class="details-add-group">
                                    <input type="hidden" name="id" value="{{acc[0]['id']}}">
                                    <input type="hidden" name="userType" value="{{userType}}">
                                <input type="submit" value="Save changes" class="product-add" title="Save changes">
                                </input>
                                </div></form>
                                {% endif %}
                                {% if userType == 'customer' %}
                                <div style="width:100%" class="modal-form">
                                    <div class="form-title">
                                        <h3>address info</h3>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Street</label>
                                        <input type="text" name="street" class="form-control" value="{{acc[0]['street']}}" required></input>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">City</label>
                                        <input type="text" name="city" class="form-control" value="{{acc[0]['city']}}" required></input>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">State</label>
                                        <select name="state" class="form-control" required>
                                            <option value="AL" {% if acc[0]['state'] == 'AL' %}selected{% endif %}>Alabama</option>
                                            <option value="AK" {% if acc[0]['state'] == 'AK' %}selected{% endif %}>Alaska</option>
                                            <option value="AZ" {% if acc[0]['state'] == 'AZ' %}selected{% endif %}>Arizona</option>
                                            <option value="AR" {% if acc[0]['state'] == 'AR' %}selected{% endif %}>Arkansas</option>
                                            <option value="CA" {% if acc[0]['state'] == 'CA' %}selected{% endif %}>California</option>
                                            <option value="CO" {% if acc[0]['state'] == 'CO' %}selected{% endif %}>Colorado</option>
                                            <option value="CT" {% if acc[0]['state'] == 'CT' %}selected{% endif %}>Connecticut</option>
                                            <option value="DE" {% if acc[0]['state'] == 'DE' %}selected{% endif %}>Delaware</option>
                                            <option value="FL" {% if acc[0]['state'] == 'FL' %}selected{% endif %}>Florida</option>
                                            <option value="GA" {% if acc[0]['state'] == 'GA' %}selected{% endif %}>Georgia</option>
                                            <option value="HI" {% if acc[0]['state'] == 'HI' %}selected{% endif %}>Hawaii</option>
                                            <option value="ID" {% if acc[0]['state'] == 'ID' %}selected{% endif %}>Idaho</option>
                                            <option value="IL" {% if acc[0]['state'] == 'IL' %}selected{% endif %}>Illinois</option>
                                            <option value="IN" {% if acc[0]['state'] == 'IN' %}selected{% endif %}>Indiana</option>
                                            <option value="IA" {% if acc[0]['state'] == 'IA' %}selected{% endif %}>Iowa</option>
                                            <option value="KS" {% if acc[0]['state'] == 'KS' %}selected{% endif %}>Kansas</option>
                                            <option value="KY" {% if acc[0]['state'] == 'KY' %}selected{% endif %}>Kentucky</option>
                                            <option value="LA" {% if acc[0]['state'] == 'LA' %}selected{% endif %}>Louisiana</option>
                                            <option value="ME" {% if acc[0]['state'] == 'ME' %}selected{% endif %}>Maine</option>
                                            <option value="MD" {% if acc[0]['state'] == 'MD' %}selected{% endif %}>Maryland</option>
                                            <option value="MA" {% if acc[0]['state'] == 'MA' %}selected{% endif %}>Massachusetts</option>
                                            <option value="MI" {% if acc[0]['state'] == 'MI' %}selected{% endif %}>Michigan</option>
                                            <option value="MN" {% if acc[0]['state'] == 'MN' %}selected{% endif %}>Minnesota</option>
                                            <option value="MS" {% if acc[0]['state'] == 'MS' %}selected{% endif %}>Mississippi</option>
                                            <option value="MO" {% if acc[0]['state'] == 'MO' %}selected{% endif %}>Missouri</option>
                                            <option value="MT" {% if acc[0]['state'] == 'MT' %}selected{% endif %}>Montana</option>
                                            <option value="NE" {% if acc[0]['state'] == 'NE' %}selected{% endif %}>Nebraska</option>
                                            <option value="NV" {% if acc[0]['state'] == 'NV' %}selected{% endif %}>Nevada</option>
                                            <option value="NH" {% if acc[0]['state'] == 'NH' %}selected{% endif %}>New Hampshire</option>
                                            <option value="NJ" {% if acc[0]['state'] == 'NJ' %}selected{% endif %}>New Jersey</option>
                                            <option value="NM" {% if acc[0]['state'] == 'NM' %}selected{% endif %}>New Mexico</option>
                                            <option value="NY" {% if acc[0]['state'] == 'NY' %}selected{% endif %}>New York</option>
                                            <option value="NC" {% if acc[0]['state'] == 'NC' %}selected{% endif %}>North Carolina</option>
                                            <option value="ND" {% if acc[0]['state'] == 'ND' %}selected{% endif %}>North Dakota</option>
                                            <option value="OH" {% if acc[0]['state'] == 'OH' %}selected{% endif %}>Ohio</option>
                                            <option value="OK" {% if acc[0]['state'] == 'OK' %}selected{% endif %}>Oklahoma</option>
                                            <option value="OR" {% if acc[0]['state'] == 'OR' %}selected{% endif %}>Oregon</option>
                                            <option value="PA" {% if acc[0]['state'] == 'PA' %}selected{% endif %}>Pennsylvania</option>
                                            <option value="RI" {% if acc[0]['state'] == 'RI' %}selected{% endif %}>Rhode Island</option>
                                            <option value="SC" {% if acc[0]['state'] == 'SC' %}selected{% endif %}>South Carolina</option>
                                            <option value="SD" {% if acc[0]['state'] == 'SD' %}selected{% endif %}>South Dakota</option>
                                            <option value="TN" {% if acc[0]['state'] == 'TN' %}selected{% endif %}>Tennessee</option>
                                            <option value="TX" {% if acc[0]['state'] == 'TX' %}selected{% endif %}>Texas</option>
                                            <option value="UT" {% if acc[0]['state'] == 'UT' %}selected{% endif %}>Utah</option>
                                            <option value="VT" {% if acc[0]['state'] == 'VT' %}selected{% endif %}>Vermont</option>
                                            <option value="VA" {% if acc[0]['state'] == 'VA' %}selected{% endif %}>Virginia</option>
                                            <option value="WA" {% if acc[0]['state'] == 'WA' %}selected{% endif %}>Washington</option>
                                            <option value="WV" {% if acc[0]['state'] == 'WV' %}selected{% endif %}>West Virginia</option>
                                            <option value="WI" {% if acc[0]['state'] == 'WI' %}selected{% endif %}>Wisconsin</option>
                                            <option value="WY" {% if acc[0]['state'] == 'WY' %}selected{% endif %}>Wyoming</option>
                                            <option value="DC" {% if acc[0]['state'] == 'DC' %}selected{% endif %}>District of Columbia</option>
                                            <option value="AS" {% if acc[0]['state'] == 'AS' %}selected{% endif %}>American Samoa</option>
                                            <option value="GU" {% if acc[0]['state'] == 'GU' %}selected{% endif %}>Guam</option>
                                            <option value="MP" {% if acc[0]['state'] == 'MP' %}selected{% endif %}>Northern Mariana Islands</option>
                                            <option value="PR" {% if acc[0]['state'] == 'PR' %}selected{% endif %}>Puerto Rico</option>
                                            <option value="UM" {% if acc[0]['state'] == 'UM' %}selected{% endif %}>United States Minor Outlying Islands</option>
                                            <option value="VI" {% if acc[0]['state'] == 'VI' %}selected{% endif %}>Virgin Islands</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Zipcode</label>
                                        <input type="text" name="zipcode" class="form-control" pattern="[0-9]{5}" value="{{acc[0]['zipcode']}}" required oninvalid="this.setCustomValidity('Please enter a valid zipcode.')"></input>
                                    </div>
                                </div>
                                <div class="details-add-group">
                                    <input type="hidden" name="id" value="{{acc[0]['id']}}">
                                    <input type="hidden" name="userType" value="{{userType}}">
                                    <input type="hidden" name="change" value="general">
                                <button type="submit" value="Save changes" class="product-add" title="Save Changes">Edit General & Address Info
                                </button>
                                </div></form>
                                <div style="width:100%" class="modal-form">
                                    {% for payment in payments %}
                                    <div class="form-title">
                                        <h3>payment info</h3>
                                    </div>
                                    <form action="{{url_for('updateaccount')}}", method="post">
                                        <div class="form-group">
                                            <label class="form-label">Card Brand</label>
                                            <select name="cbrand" class="form-control" required>
                                                <option value="Visa" {% if payment['brand'] == 'Visa' %}selected{% endif %}>Visa</option>
                                                <option value="Mastercard" {% if payment['brand'] == 'Mastercard' %}selected{% endif %}>Mastercard</option>
                                            </select>
                                        </div>
                                    <div class="form-group">
                                        <label class="form-label">Card number</label>
                                        <input type="text" name="cnumber" class="form-control" pattern="[0-9]{4,}" value="{{payment['number']}}" required oninvalid="this.setCustomValidity('Please enter the entire card number.')"></input>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Exp. Month</label>
                                        <select name="expmon" class="form-control" required>
                                            {% for month in range(1, 13) %}
                                            {% set monthValue = "%02d"|format(month) %}
                                            {% if monthValue == payment['expmon'] %}
                                                <option value="{{ monthValue }}" selected>{{ monthValue }}</option>
                                            {% else %}
                                                <option value="{{ monthValue }}">{{ monthValue }}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Exp. Year</label>
                                        <select name="expyear" class="form-control" required>
                                            {% for year in range(2020, 2029) %}
                                                {% if year == payment['expyear'] %}
                                                    <option value="{{ year }}" selected>{{ year }}</option>
                                                {% else %}
                                                    <option value="{{ year }}">{{ year }}</option>
                                                {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Zip Code</label>
                                        <input type="text" name="czip" class="form-control" pattern="[0-9]{5}" value="{{payment['zipcode']}}" required oninvalid="this.setCustomValidity('Please enter a valid zipcode.')"></input>
                                    </div>                                    
                                    {% if payment['status'] == 'active' %}
                                         <div class="form-group">
                                            <label class="form-label">status</label><br>
                                             <label for="active">Active</label>
                                            <input type="radio" id='active' value="active" name="p_status" checked><br>
                                             <label for="inactive">Inactive</label>
                                            <input type="radio" id='inactive' value="inactive" name="p_status">
                                        </div>
                                     {% else %}
                                     <div class="form-group">
                                        <label class="form-label">status</label><br>
                                         <label for="active1">Active</label>
                                        <input type="radio" id='active1' value="active" name="p_status"><br>
                                         <label for="inactive1">Inactive</label>
                                        <input type="radio" id='inactive1' value="inactive" name="p_status" checked>
                                    </div>
                                 {% endif %}
                                </div>
                                <div class="details-add-group">
                                    <input type="hidden" name="id" value="{{acc[0]['id']}}">
                                    <input type="hidden" name="userType" value="{{userType}}">
                                    <input type="hidden" name="change" value="payment">
                                    <input type="hidden" name="oldnum" value="{{payment['number']}}">
                                <button type="submit" value="Save changes" class="product-add" title="Save Changes">Edit Payment Info
                                </button>
                                </div></form>
                                <form action="{{url_for('deletepayment')}}", method="post"><div class="details-add-group">
                                    <input type="hidden" name="id" value="{{acc[0]['id']}}">
                                    <input type="hidden" name="num" value="{{payment['number']}}">
                                    <button style="background-color: #a50000;" type="submit" class="product-add" title="Save Changes" onclick="return confirmDelete()">Delete Payment</button>
                                </div></form>
                                {% endfor %}
                                {% endif %}

                        </div>
                    </div>
                </div>
            </div>
            </div>
        </section>
        <!--=====================================
                PRODUCT DETAILS PART END
        =======================================-->




         <!--=====================================
                     FOOTER PART START
        =======================================-->
        <footer style="background-color: #DDDDDD" class="footer-part">
            <div class="container">
                <div class="row">
                    <div class="col-sm-6 col-xl-3">
                        <div class="footer-widget">
                            <a class="footer-logo" href="#">
                                <img src="/static/images/brand/logo_morro_pr.png" alt="logo">
                            </a>
                            <p class="footer-desc"></p>

                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="footer-widget contact">
                            <h3 class="footer-title">contact us</h3>
                            <ul class="footer-contact">
                                <li>
                                    <i class="icofont-ui-email"></i>
                                    <p>
                                        <span>emanuel.martinez8@upr.edu</span>
                                    </p>
                                </li>
                                <li>
                                    <i class="icofont-ui-touch-phone"></i>
                                    <p>
                                        <span>+1 939-241-5738</span>
                                    </p>
                                </li>

                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="footer-widget">
                            <h3 class="footer-title">Quick Links</h3>
                            <div class="footer-links">
                                <ul>
                                    <li><a href="https://github.com/CCOM-UPRA">Github</a></li>
                                    <li><a href="http://upra.edu/">upra.edu</a></li>
                                    <li><a href="https://cursos.upra.edu/course/search.php?areaids=core_course-course&q=ccom4115-ME5">cursos.upra.edu</a></li>
                                </ul>
                                <ul>
                                    <li><a href="https://www.youtube.com/watch?v=Z1RJmh_OqeA">Flask tutorial</a></li>
                                    <li><a href="https://www.youtube.com/watch?v=qz0aGYrrlhU">HTML tutorial</a></li>
                                    <li><a href="https://www.youtube.com/watch?v=kqtD5dpn9C8">Python tutorial</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="footer-widget">
                            <h3 class="footer-title">Students of CCOM4115</h3>
                            <p class="footer-desc" style="text-align: center;">Emanuel</p>

                        </div>
                    </div>
                </div>
                <br>
            </div>
        </footer>
        <!--=====================================
                      FOOTER PART END
        =======================================-->


        <!--=====================================
                    JS LINK PART START
        =======================================-->
         <!-- VENDOR -->
         <script>
            function confirmDelete() {
                var result = confirm("Are you sure you want to delete this payment?");
                if (result) {
                    document.getElementById("deleteForm").submit();
                } else {
                    location.reload();
                }
                return false; 
            }
        </script>
        <script src="{{url_for('static', filename='vendor/bootstrap/jquery-1.12.4.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/bootstrap/popper.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/bootstrap/bootstrap.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/countdown/countdown.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/niceselect/nice-select.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/slickslider/slick.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/venobox/venobox.min.js')}}"></script>

        <!-- CUSTOM -->
        <script src="{{url_for('static', filename='js/nice-select.js')}}"></script>
        <script src="{{url_for('static', filename='js/countdown.js')}}"></script>
        <script src="{{url_for('static', filename='js/accordion.js')}}"></script>
        <script src="{{url_for('static', filename='js/venobox.js')}}"></script>
        <script src="{{url_for('static', filename='js/slick.js')}}"></script>
        <script src="{{url_for('static', filename='js/main.js')}}"></script>
        <!--=====================================
                    JS LINK PART END
        =======================================-->
    </body>
</html>






